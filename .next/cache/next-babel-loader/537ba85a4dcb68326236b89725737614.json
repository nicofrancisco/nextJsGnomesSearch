{"ast":null,"code":"var _jsxFileName = \"/Users/nicolasfbergues/Desktop/Nico/Trabajo/Aerolab/NextDemo/learnnextjs-demo/pages/components/Pagination/Pagination.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../redux/actions/actions\";\nimport { PaginationWrapper, PaginationBtn } from \"./PaginationStyled\";\nvar nextButtonValue = \"Next\";\nvar previousButtonValue = \"Previous\";\n\nvar Pagination = function Pagination(_ref) {\n  var fetchGender = _ref.fetchGender,\n      gnomes = _ref.gnomes,\n      currentPage = _ref.currentPage,\n      page = _ref.page,\n      updateGlobalState = _ref.updateGlobalState,\n      maxPages = _ref.maxPages;\n  console.log(gender);\n  console.log(gnomes);\n\n  var _useState = useState([]),\n      gender = _useState[0],\n      setGender = _useState[1];\n\n  useEffect(function () {\n    console.log(\"calling again\");\n    fetchGender(format).then(function (response) {\n      console.log(response);\n      setGender(response);\n    });\n    console.log(\"gender x\");\n    console.log(gender);\n  }, []);\n  console.log(\"AFTER\");\n  console.log(gender);\n  var itemsByPage = 15;\n  var gnomeNames = gnomes.map(function (gnome) {\n    return gnome.name;\n  });\n  var pageGnomes = gnomeNames.slice(itemsByPage * currentPage, itemsByPage + currentPage * itemsByPage); // slice will control the pagination it calculate the quantity of items we want to show by the current page\n\n  pageGnomes.map(function (gnome) {\n    return function (gnome) {\n      return gnome.name;\n    };\n  });\n\n  var getFirstName = function getFirstName(arr) {\n    var arrCroped = [];\n\n    for (var a = 0; a < arr.length; a++) {\n      var corte = arr[a].indexOf(\" \");\n      arrCroped[a] = arr[a].substr(0, corte);\n    }\n\n    return arrCroped;\n  };\n\n  var justRenderedPageNames = getFirstName(pageGnomes);\n\n  var parseToService = function parseToService(arrToFormat) {\n    var arrayFormated = [];\n\n    for (var b = 0; b < arrToFormat.length; b++) {\n      arrayFormated[b] = \"name[]=\" + arrToFormat[b];\n    }\n\n    return arrayFormated;\n  };\n\n  var format = parseToService(justRenderedPageNames).toString().replace(/,/g, \"&\");\n  return __jsx(PaginationWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, __jsx(PaginationBtn, {\n    disableStyle: page <= 0,\n    page: page,\n    onClick: Pagination.onClick(updateGlobalState, page),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Previous\"), __jsx(\"span\", {\n    className: \"current-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Page: \", page + 1), __jsx(PaginationBtn, {\n    disableStyle: page >= maxPages,\n    page: page,\n    onClick: Pagination.onClick(updateGlobalState, page, maxPages),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Next\"));\n};\n\nPagination.onClick = function (updateGlobalState, page, maxPages, gender) {\n  return function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : event.currentTarget;\n    event.preventDefault(); // when page change take scroll to top\n\n    window.scroll(null, 0);\n    console.log(gender);\n    {\n      fetchGender(format);\n    } //callGender(propsGender)\n    // Get the button name\n\n    var btnName = event.currentTarget.textContent.toLowerCase(); // if btnName is equal tot the nextButton value add a page until find the last page\n\n    if (btnName === nextButtonValue.toLowerCase()) {\n      // just add a new page if it is minor than maxPage\n      var nextPage = page + 1;\n\n      if (page !== maxPages) {\n        updateGlobalState(nextPage);\n      }\n    } else if (btnName === previousButtonValue.toLowerCase()) {\n      // Remove a page until it find the first page\n      var previousPage = page - 1;\n\n      if (page > 0) {\n        updateGlobalState(previousPage);\n      }\n    }\n  };\n};\n\nPagination.defaultProps = {\n  page: false\n};\n\nfunction mapStateToProps(state) {\n  console.log(\"pagination gender\");\n  console.log(state);\n  return {\n    gnomes: state.gnomes,\n    gender: state.gender,\n    currentPage: state.currentPage\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Pagination); //export default Pagination;","map":{"version":3,"sources":["/Users/nicolasfbergues/Desktop/Nico/Trabajo/Aerolab/NextDemo/learnnextjs-demo/pages/components/Pagination/Pagination.jsx"],"names":["React","useState","useEffect","connect","actions","PaginationWrapper","PaginationBtn","nextButtonValue","previousButtonValue","Pagination","fetchGender","gnomes","currentPage","page","updateGlobalState","maxPages","console","log","gender","setGender","format","then","response","itemsByPage","gnomeNames","map","gnome","name","pageGnomes","slice","getFirstName","arr","arrCroped","a","length","corte","indexOf","substr","justRenderedPageNames","parseToService","arrToFormat","arrayFormated","b","toString","replace","onClick","event","currentTarget","preventDefault","window","scroll","btnName","textContent","toLowerCase","nextPage","previousPage","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React , { useState, useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../redux/actions/actions\";\nimport { PaginationWrapper, PaginationBtn } from \"./PaginationStyled\";\n\n\nconst nextButtonValue = \"Next\";\nconst previousButtonValue = \"Previous\";\n\nconst Pagination = ({ fetchGender, gnomes, currentPage, page, updateGlobalState, maxPages}) => {\n\n  console.log(gender)\n  console.log(gnomes)\n\n  const [gender, setGender] = useState([]);\n\n  useEffect(() => {\n    console.log(\"calling again\")\n    fetchGender(format).then(response => {console.log(response); setGender(response)})\n\n    console.log(\"gender x\")\n    console.log(gender)\n\n  }, [])\n\n  console.log(\"AFTER\")\n  console.log(gender)\n  const itemsByPage = 15;\n  const gnomeNames = gnomes.map(gnome => gnome.name)\n  const pageGnomes = gnomeNames.slice(\n  itemsByPage * currentPage,\n  itemsByPage + currentPage * itemsByPage\n  ) // slice will control the pagination it calculate the quantity of items we want to show by the current page\n\n  pageGnomes.map(gnome => (\n    gnome => gnome.name\n  ))\n\n  const getFirstName = arr =>{\n    var arrCroped = [];\n      for(var a=0; a<arr.length; a++){\n\n        var corte = arr[a].indexOf(\" \");\n        arrCroped[a] = arr[a].substr(0, corte);\n      }\n      return arrCroped;\n  }\n\n  const justRenderedPageNames = getFirstName(pageGnomes);\n\n  const parseToService = arrToFormat =>{\n    var arrayFormated = [];\n\n      for(var b=0; b<arrToFormat.length; b++){\n        arrayFormated[b] = \"name[]=\"+arrToFormat[b];\n      }\n\n      return arrayFormated;\n\n  }\n\n  const format = parseToService(justRenderedPageNames).toString().replace(/,/g, \"&\");\n\n\n  return(\n  <PaginationWrapper>\n    <PaginationBtn\n      disableStyle={page <= 0}\n      page={page}\n      onClick={Pagination.onClick(updateGlobalState, page)}\n    >\n      Previous\n    </PaginationBtn>\n    <span className=\"current-page\">Page: {page + 1}</span>\n    <PaginationBtn\n      disableStyle={page >= maxPages}\n      page={page}\n      onClick={Pagination.onClick(updateGlobalState, page, maxPages)}\n    >\n      Next\n    </PaginationBtn>\n  </PaginationWrapper>\n)};\n\nPagination.onClick = (updateGlobalState, page, maxPages, gender) => (\n  event= event.currentTarget\n) => {\n  event.preventDefault();\n  // when page change take scroll to top\n  window.scroll(null, 0);\n  console.log(gender)\n  {fetchGender(format)}\n  //callGender(propsGender)\n  // Get the button name\n  const btnName = event.currentTarget.textContent.toLowerCase();\n\n  // if btnName is equal tot the nextButton value add a page until find the last page\n  if (btnName === nextButtonValue.toLowerCase()) {\n    // just add a new page if it is minor than maxPage\n    const nextPage = page + 1;\n    if (page !== maxPages) {\n      updateGlobalState(nextPage);\n    }\n  } else if (btnName === previousButtonValue.toLowerCase()) {\n    // Remove a page until it find the first page\n    const previousPage = page - 1;\n    if (page > 0) {\n      updateGlobalState(previousPage);\n    }\n  }\n};\n\nPagination.defaultProps = {\n  page: false\n};\n\nfunction mapStateToProps(state) {\n  console.log(\"pagination gender\")\n  console.log(state)\n  return {\n    gnomes: state.gnomes,\n    gender: state.gender,\n    currentPage: state.currentPage\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Pagination);\n\n//export default Pagination;\n"]},"metadata":{},"sourceType":"module"}