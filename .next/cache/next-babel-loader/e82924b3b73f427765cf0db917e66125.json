{"ast":null,"code":"var _jsxFileName = \"/Users/nicolasfbergues/Desktop/Nico/Trabajo/Aerolab/NextDemo/learnnextjs-demo/pages/containers/Home/Home.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Helmet } from \"react-helmet\";\nimport { Transition, CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { connect } from \"react-redux\";\nimport Filters from \"./../Filters/Filters\";\nimport Card from \"./../../components/Card/Card\";\nimport * as actions from \"./../../redux/actions/actions\";\nimport { HomeRow, HomeWrapper } from \"./HomeStyled\";\nimport Pagination from \"./../../components/Pagination/Pagination\";\nimport { filterGnomesBy, itemsByPage, getCurrentPageGenderFormat, getFirstNames } from \"./../../utils\";\n\nconst Home = props => {\n  console.log(\"props\");\n  console.log(props.store);\n  const {\n    searchTerm,\n    gnomes,\n    orderByFilter,\n    gender,\n    currentPage\n  } = props;\n  useEffect(() => {\n    console.log(\"calling again\");\n    props.fetchGender(format).then(response => {\n      JSON.stringify(response);\n      console.log(response);\n    });\n    console.log(\"gender x\");\n    console.log(gender);\n  }, []);\n  /*let updatedPage = props.getCurrentPage(currentPage).payload;\n   const gnomeNames = gnomes.map(gnome => gnome.name)\n  const pageGnomes = gnomeNames.slice(\n    itemsByPage * updatedPage,\n    itemsByPage + updatedPage * itemsByPage\n  )\n   pageGnomes.map(gnome => (\n    gnome => gnome.name\n  ))\n   const getFirstName = arr =>{\n    var arrCroped = [];\n      for(var a=0; a<arr.length; a++){\n         var corte = arr[a].indexOf(\" \");\n        arrCroped[a] = arr[a].substr(0, corte);\n      }\n      return arrCroped;\n  }\n   const justRenderedPageNames = getFirstName(pageGnomes);\n   const parseToService = arrToFormat =>{\n    var arrayFormated = [];\n       for(var b=0; b<arrToFormat.length; b++){\n        arrayFormated[b] = \"name[]=\"+arrToFormat[b];\n      }\n       return arrayFormated;\n   }\n   const format = parseToService(justRenderedPageNames).toString().replace(/,/g, \"&\");*/\n\n  const format = getCurrentPageGenderFormat(gnomes, props.getCurrentPage(currentPage).payload);\n  const names = getFirstNames(gnomes, props.getCurrentPage(currentPage).payload);\n\n  const guessGender = names => {\n    //console.log(names)\n    //console.log(gender)\n\n    /*gender.filter(val => {\n     } );*/\n    names.forEach(function (val, index) {\n      var bigCities = gender.filter(function (e) {\n        return e.name == names[index];\n      });\n      console.log(bigCities);\n    });\n  };\n\n  guessGender(names);\n  const searchFilters = filterGnomesBy(gnomes, orderByFilter).filter(gnome => {\n    const isJob = gnome.professions.find(profession => profession === props.filterBy);\n    const hasProfession = gnome.professions.some(profession => profession === isJob);\n    return props.filterBy === \"All\" ? gnome : hasProfession;\n  }).filter(gnome => {\n    const search = gnome.name.toLowerCase().indexOf(searchTerm.toLowerCase()) >= 0;\n    return search;\n  });\n  return __jsx(HomeWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, __jsx(Helmet, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Nicolas Bergues\"), __jsx(\"link\", {\n    rel: \"shortcut icon\",\n    href: \"favicon.ico\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"Assesment App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), __jsx(HomeRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, __jsx(Filters, {\n    genderG: gender,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  })), __jsx(Pagination, {\n    gnomes: props.gnomes,\n    page: currentPage,\n    updateGlobalState: props.getCurrentPage,\n    maxPages: Math.floor(searchFilters.length / itemsByPage),\n    callGender: props.fetchGender,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), __jsx(HomeRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, __jsx(TransitionGroup, {\n    className: \"cards\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, searchFilters.length > 0 ? searchFilters.slice(itemsByPage * currentPage, itemsByPage + currentPage * itemsByPage).map(gnome => __jsx(CSSTransition, {\n    key: gnome.id,\n    timeout: 500,\n    classNames: \"item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, __jsx(Card, {\n    key: gnome.id,\n    gnome: gnome && gnome,\n    to: `${gnome.id}-${gnome.name.split(\" \").join(\"-\")}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }))) : __jsx(\"div\", {\n    className: \"notFound\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"no gnomes founded for current search\"))), __jsx(Pagination, {\n    gnomes: props.gnomes,\n    page: currentPage,\n    updateGlobalState: props.getCurrentPage,\n    maxPages: Math.floor(searchFilters.length / itemsByPage),\n    callGender: props.fetchGender,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    searchTerm: state.searchTerm,\n    gnomes: state.gnomes,\n    gender: state.gender,\n    filterBy: state.filterBy,\n    orderByFilter: state.orderBy,\n    currentPage: state.currentPage\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Home);","map":{"version":3,"sources":["/Users/nicolasfbergues/Desktop/Nico/Trabajo/Aerolab/NextDemo/learnnextjs-demo/pages/containers/Home/Home.js"],"names":["React","useState","useEffect","Helmet","Transition","CSSTransition","TransitionGroup","connect","Filters","Card","actions","HomeRow","HomeWrapper","Pagination","filterGnomesBy","itemsByPage","getCurrentPageGenderFormat","getFirstNames","Home","props","console","log","store","searchTerm","gnomes","orderByFilter","gender","currentPage","fetchGender","format","then","response","JSON","stringify","getCurrentPage","payload","names","guessGender","forEach","val","index","bigCities","filter","e","name","searchFilters","gnome","isJob","professions","find","profession","filterBy","hasProfession","some","search","toLowerCase","indexOf","Math","floor","length","slice","map","id","split","join","mapStateToProps","state","orderBy"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Helmet } from \"react-helmet\";\nimport { Transition, CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { connect } from \"react-redux\";\nimport Filters from \"./../Filters/Filters\";\nimport Card from \"./../../components/Card/Card\";\nimport * as actions from \"./../../redux/actions/actions\";\nimport { HomeRow, HomeWrapper } from \"./HomeStyled\";\nimport Pagination from \"./../../components/Pagination/Pagination\";\nimport { filterGnomesBy, itemsByPage, getCurrentPageGenderFormat, getFirstNames } from \"./../../utils\";\n\n\nconst Home = (props) => {\n\n  console.log(\"props\")\n  console.log(props.store)\n  const { searchTerm, gnomes, orderByFilter, gender, currentPage} = props;\n\n  useEffect(() => {\n    console.log(\"calling again\")\n    props.fetchGender(format).then(response =>{ JSON.stringify(response); console.log(response)})\n\n    console.log(\"gender x\")\n    console.log(gender)\n\n  }, [])\n\n\n  /*let updatedPage = props.getCurrentPage(currentPage).payload;\n\n  const gnomeNames = gnomes.map(gnome => gnome.name)\n  const pageGnomes = gnomeNames.slice(\n    itemsByPage * updatedPage,\n    itemsByPage + updatedPage * itemsByPage\n  )\n\n  pageGnomes.map(gnome => (\n    gnome => gnome.name\n  ))\n\n  const getFirstName = arr =>{\n    var arrCroped = [];\n      for(var a=0; a<arr.length; a++){\n\n        var corte = arr[a].indexOf(\" \");\n        arrCroped[a] = arr[a].substr(0, corte);\n      }\n      return arrCroped;\n  }\n\n  const justRenderedPageNames = getFirstName(pageGnomes);\n\n  const parseToService = arrToFormat =>{\n    var arrayFormated = [];\n\n      for(var b=0; b<arrToFormat.length; b++){\n        arrayFormated[b] = \"name[]=\"+arrToFormat[b];\n      }\n\n      return arrayFormated;\n\n  }\n\n  const format = parseToService(justRenderedPageNames).toString().replace(/,/g, \"&\");*/\n\n  const format = getCurrentPageGenderFormat(gnomes, props.getCurrentPage(currentPage).payload)\n\n\n  const names = getFirstNames(gnomes, props.getCurrentPage(currentPage).payload);\n\n\n  const guessGender = (names) => {\n\n      //console.log(names)\n      //console.log(gender)\n\n      /*gender.filter(val => {\n\n      } );*/\n      names.forEach( function(val,index) {\n\n      var bigCities = gender.filter(function (e) {\n            return e.name == names[index]\n      });\n      console.log(bigCities);\n\n    })\n}\n\n  guessGender(names)\n\n\n\n  const searchFilters = filterGnomesBy(gnomes, orderByFilter)\n    .filter(gnome => {\n\n      const isJob = gnome.professions.find(\n        profession => profession === props.filterBy\n      );\n\n      const hasProfession = gnome.professions.some(\n        profession => profession === isJob\n      );\n\n      return props.filterBy === \"All\" ? gnome : hasProfession;\n    })\n    .filter(gnome => {\n\n      const search =\n        gnome.name.toLowerCase().indexOf(searchTerm.toLowerCase()) >= 0;\n      return search;\n    });\n\n  return (\n    <HomeWrapper>\n      <Helmet>\n        <title>Nicolas Bergues</title>\n        <link rel=\"shortcut icon\" href=\"favicon.ico\" />\n        <meta\n          name=\"description\"\n          content=\"Assesment App\"\n        />\n      </Helmet>\n      <HomeRow>\n        <Filters genderG={gender}/>\n      </HomeRow>\n      <Pagination\n        gnomes={props.gnomes}\n        page={currentPage}\n        updateGlobalState={props.getCurrentPage}\n        maxPages={Math.floor(searchFilters.length / itemsByPage)}\n        callGender={props.fetchGender}\n      />\n      <HomeRow>\n      <TransitionGroup className=\"cards\">\n        {searchFilters.length > 0 ? (\n          searchFilters\n            .slice(\n              itemsByPage * currentPage,\n              itemsByPage + currentPage * itemsByPage\n            )\n            .map(gnome => (\n              <CSSTransition key={gnome.id} timeout={500} classNames=\"item\">\n                <Card\n                  key={gnome.id}\n                  gnome={gnome && gnome}\n                  to={`${gnome.id}-${gnome.name.split(\" \").join(\"-\")}`}\n                />\n              </CSSTransition>\n            ))\n        ) : (\n          <div className={\"notFound\"}>no gnomes founded for current search</div>\n        )}\n        </TransitionGroup>\n      </HomeRow>\n      <Pagination\n        gnomes={props.gnomes}\n        page={currentPage}\n        updateGlobalState={props.getCurrentPage}\n        maxPages={Math.floor(searchFilters.length / itemsByPage)}\n        callGender={props.fetchGender}\n      />\n    </HomeWrapper>\n  );\n};\n\n\nfunction mapStateToProps(state) {\n  return {\n    searchTerm: state.searchTerm,\n    gnomes: state.gnomes,\n    gender: state.gender,\n    filterBy: state.filterBy,\n    orderByFilter: state.orderBy,\n    currentPage: state.currentPage\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Home);\n"]},"metadata":{},"sourceType":"module"}