{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nicolasfbergues/Desktop/Nico/Trabajo/Aerolab/NextDemo/learnnextjs-demo/pages/containers/Home/Home.js\";\nvar __jsx = React.createElement;\n// @flow\nimport React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { connect } from \"react-redux\";\nimport Filters from \"./../Filters/Filters\";\nimport Card from \"./../../components/Card/Card\";\nimport * as actions from \"./../../redux/actions/actions\";\nimport { HomeRow, HomeWrapper } from \"./HomeStyled\";\nimport EmptyMsg from \"./../../components/EmptyMsg/EmptyMsg\";\nimport Pagination from \"./../../components/Pagination/Pagination\";\nimport { filterGnomesBy } from \"./../../functions\"; // Import State Flow type for our redux state to props declaration\n//import type { State } from \"./../../../flow-typed/types\";\n// Declare our props with flow typed\n//type Props = State;\n\nvar Home = /*#__PURE__*/function (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props, context) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props, context));\n    _this.state = {}; // destructuring our props for easy for write\n    //const { searchTerm, gnomes, orderByFilter, currentPage } = props;\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"mount HOME\"); // Get all the gnomes from the Api\n      // this is an action creator we got from the react-redux connect method\n\n      this.props.fetchGnomes();\n      var gnomes = props.gnomes;\n      var searchTerm = props.searchTerm;\n      var orderByFilter = props.orderByFilter;\n      var currentPage = props.currentPage;\n      var itemsByPage = 9;\n      console.log(\"PROPS\");\n      console.log(props); // Filter the gnomes ordering them by youngest, oldest, lighter, heaviest, popularity\n      // Returns and array with all the filtered gnomes and finally generate\n      // our card based this filtered array\n\n      var searchFilters = filterGnomesBy(gnomes, orderByFilter).filter(function (gnome) {\n        // filter by profession\n        // If this gnome has this profession from redux state\n        // return the profession of this gnome\n        var isJob = gnome.professions.find(function (profession) {\n          return profession === props.filterBy;\n        }); // And then if this gnome know this profession return true\n        // Otherwise return false and ignore pass this gnome to the new array\n\n        var hasProfession = gnome.professions.some(function (profession) {\n          return profession === isJob;\n        }); // if filterBy state is all returns all gnomes if not return depending\n        // of the profession we're looking for\n\n        return props.filterBy === \"All\" ? gnome : hasProfession;\n      }).filter(function (gnome) {\n        // Filter name\n        // This comentted expression is for search exactly\n        // if match from the beginning of the string\n        // gnome.name.toLowerCase().search(searchTerm.toLowerCase()) === 0\n        // Get the gnomes that contains this bit of string within\n        var search = gnome.name.toLowerCase().indexOf(searchTerm.toLowerCase()) >= 0;\n        return search;\n      });\n      /*\n            Declaring meta tags and title for <head> thanks to react-helmet\n           the rest of UI Components is for controlling our filters\n           if there is not coincidences return EmptyMSG which inform this gnome\n           was not matched\n          */\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(HomeWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, __jsx(Helmet, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, __jsx(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"BrastlewarkerS || Home\"), __jsx(\"link\", {\n        rel: \"shortcut icon\",\n        href: \"favicon.ico\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"little application where it's posible to consult information about the inhabitants of brastlewarks, age, weight, name, professions and more.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), __jsx(HomeRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, __jsx(Filters, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), __jsx(HomeRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, searchFilters.length > 0 ? searchFilters.slice(itemsByPage * currentPage, itemsByPage + currentPage * itemsByPage) // slice will control the pagination it calculate the quantity of items we want to show by the current page\n      .map(function (gnome) {\n        return __jsx(Card, {\n          key: gnome.id,\n          gnome: gnome && gnome,\n          to: \"/gnomes/\".concat(gnome.id, \"-\").concat(gnome.name.split(\" \").join(\"-\")),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        });\n      }) : __jsx(EmptyMsg, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"GNOME NOT FOUND\")), __jsx(Pagination, {\n        page: currentPage,\n        updateGlobalState: props.getCurrentPage,\n        maxPages: Math.floor(searchFilters.length / itemsByPage),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component); // Inject Redux states to React Props\n// Thanks to react-redux connect method\n\n\nfunction mapStateToProps(state) {\n  console.log(\"state\");\n  console.log(state);\n  return {\n    searchTerm: state.searchTerm,\n    gnomes: state.gnomes,\n    filterBy: state.filterBy,\n    orderByFilter: state.orderBy,\n    currentPage: state.currentPage\n  };\n} // This approach to get actions creators is easier\n// Since we get all the exported methods when we import the file\n// and just with passing in connect we have access to all of them\n\n\nexport default connect(mapStateToProps, actions)(Home);","map":{"version":3,"sources":["/Users/nicolasfbergues/Desktop/Nico/Trabajo/Aerolab/NextDemo/learnnextjs-demo/pages/containers/Home/Home.js"],"names":["React","Component","Helmet","connect","Filters","Card","actions","HomeRow","HomeWrapper","EmptyMsg","Pagination","filterGnomesBy","Home","props","context","state","console","log","fetchGnomes","gnomes","searchTerm","orderByFilter","currentPage","itemsByPage","searchFilters","filter","gnome","isJob","professions","find","profession","filterBy","hasProfession","some","search","name","toLowerCase","indexOf","length","slice","map","id","split","join","getCurrentPage","Math","floor","mapStateToProps","orderBy"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { connect } from \"react-redux\";\nimport Filters from \"./../Filters/Filters\";\nimport Card from \"./../../components/Card/Card\";\nimport * as actions from \"./../../redux/actions/actions\";\nimport { HomeRow, HomeWrapper } from \"./HomeStyled\";\nimport EmptyMsg from \"./../../components/EmptyMsg/EmptyMsg\";\nimport Pagination from \"./../../components/Pagination/Pagination\";\nimport { filterGnomesBy } from \"./../../functions\";\n// Import State Flow type for our redux state to props declaration\n//import type { State } from \"./../../../flow-typed/types\";\n\n// Declare our props with flow typed\n//type Props = State;\n\nclass Home extends Component {\n\n  constructor(props , context){\n    super(props ,context);\n    this.state = {\n\n      }\n\n      // destructuring our props for easy for write\n          //const { searchTerm, gnomes, orderByFilter, currentPage } = props;\n\n\n    }\n\n  componentDidMount() {\n    console.log(\"mount HOME\")\n    // Get all the gnomes from the Api\n    // this is an action creator we got from the react-redux connect method\n    this.props.fetchGnomes();\n\n    const gnomes = props.gnomes;\n    const searchTerm = props.searchTerm;\n    const orderByFilter = props.orderByFilter;\n    const currentPage  = props.currentPage;\n    const itemsByPage = 9;\n\n    console.log(\"PROPS\");\n    console.log(props);\n    // Filter the gnomes ordering them by youngest, oldest, lighter, heaviest, popularity\n    // Returns and array with all the filtered gnomes and finally generate\n    // our card based this filtered array\n    const searchFilters = filterGnomesBy(gnomes, orderByFilter)\n      .filter(gnome => {\n        // filter by profession\n        // If this gnome has this profession from redux state\n        // return the profession of this gnome\n        const isJob = gnome.professions.find(\n          profession => profession === props.filterBy\n        );\n\n        // And then if this gnome know this profession return true\n        // Otherwise return false and ignore pass this gnome to the new array\n        const hasProfession = gnome.professions.some(\n          profession => profession === isJob\n        );\n        // if filterBy state is all returns all gnomes if not return depending\n        // of the profession we're looking for\n        return props.filterBy === \"All\" ? gnome : hasProfession;\n      })\n      .filter(gnome => {\n        // Filter name\n        // This comentted expression is for search exactly\n        // if match from the beginning of the string\n        // gnome.name.toLowerCase().search(searchTerm.toLowerCase()) === 0\n\n        // Get the gnomes that contains this bit of string within\n        const search =\n          gnome.name.toLowerCase().indexOf(searchTerm.toLowerCase()) >= 0;\n        return search;\n      });\n    /*\n          Declaring meta tags and title for <head> thanks to react-helmet\n         the rest of UI Components is for controlling our filters\n         if there is not coincidences return EmptyMSG which inform this gnome\n         was not matched\n        */\n  }\n\n\n\n\n  render() {\n  return (\n    <HomeWrapper>\n      <Helmet>\n        <title>BrastlewarkerS || Home</title>\n        <link rel=\"shortcut icon\" href=\"favicon.ico\" />\n        <meta\n          name=\"description\"\n          content=\"little application where it's posible to consult information about the inhabitants of brastlewarks, age, weight, name, professions and more.\"\n        />\n      </Helmet>\n      <HomeRow>\n        <Filters />\n      </HomeRow>\n      <HomeRow>\n        {searchFilters.length > 0 ? (\n          searchFilters\n            .slice(\n              itemsByPage * currentPage,\n              itemsByPage + currentPage * itemsByPage\n            ) // slice will control the pagination it calculate the quantity of items we want to show by the current page\n            .map(gnome => (\n              <Card\n                key={gnome.id}\n                gnome={gnome && gnome}\n                to={`/gnomes/${gnome.id}-${gnome.name.split(\" \").join(\"-\")}`}\n              />\n            ))\n        ) : (\n          <EmptyMsg>GNOME NOT FOUND</EmptyMsg>\n        )}\n      </HomeRow>\n      <Pagination\n        page={currentPage}\n        updateGlobalState={props.getCurrentPage}\n        maxPages={Math.floor(searchFilters.length / itemsByPage)}\n      />\n    </HomeWrapper>\n  );\n};\n}\n\n\n// Inject Redux states to React Props\n// Thanks to react-redux connect method\nfunction mapStateToProps(state) {\n  console.log(\"state\")\n  console.log(state)\n  return {\n    searchTerm: state.searchTerm,\n    gnomes: state.gnomes,\n    filterBy: state.filterBy,\n    orderByFilter: state.orderBy,\n    currentPage: state.currentPage\n  };\n}\n// This approach to get actions creators is easier\n// Since we get all the exported methods when we import the file\n// and just with passing in connect we have access to all of them\nexport default connect(mapStateToProps, actions)(Home);\n"]},"metadata":{},"sourceType":"module"}